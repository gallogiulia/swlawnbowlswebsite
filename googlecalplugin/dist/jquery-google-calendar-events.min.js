  ! function (t, e, n, i) {
    "use strict";

    function a(e, n) {
      this.element = e, this.settings = t.extend({}, o, n), this.init()
    }
    var s = "google_calendar_events",
      o = {
        key: null,
        calendar: null,
        max: 10
      };
    a.prototype.init = function () {
      var t = this;
      return !(!t.settings.key || !t.settings.calendar) && void t.getCalendarEvents()
    }, a.prototype.getCalendarEvents = function () {
      var e = this;
      e.settings.apiUrl = "https://www.googleapis.com/calendar/v3/calendars/" + e.settings.calendar + "/events", t.get(e.settings.apiUrl, {
        maxResults: e.settings.max,
        singleEvents: !0,
        orderBy: "startTime",
        timeMin: (new Date).toISOString(),
        key: e.settings.key
      }, function (t) {
        t.hasOwnProperty("items") && e.build(t.items)
      })
    }, a.prototype.build = function (e) {
      var n = this;
      t(n.element).html('<ul class="google_event_list"></ul>');
      for (var i = 0; i < e.length; i++) {
        var a = e[i],
          s = !a.start.hasOwnProperty("dateTime"),
          o = s ? new Date(a.start.date) : new Date(a.start.dateTime),
          r = "<li>";
        a.summary && a.htmlLink && (r += '<div class="google_event_title"><a href="' + a.htmlLink + '" rel="' + a.summary + '">' + a.summary + "</a></div>"), r += '<div class="google_event_date">' + n.formatDate(o, s) + "</div>", a.location && (r += '<div class="google_event_location">' + a.location + "</div>"), a.description && (r += '<div class="google_event_description">' + a.description + "</div>"), r += "</li>", t(n.element).find("ul.google_event_list").append(r)
      }
    }, a.prototype.formatDate = function (t, e) {
      t = t instanceof Date ? t : new Date(t);
      var n = ["Sun", "Mon", "Tues", "Weds", "Thu", "Fri", "Sat"],
        i = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        a = t.getHours(),
        s = t.getMinutes(),
        o = a > 11 ? "pm" : "am";
      a = a > 12 ? a - 12 : a, s = s < 10 ? "0" + s : s;
      var r = a + ":" + s + o,
        l = n[t.getDay()] + " " + i[t.getMonth()] + " " + t.getDate() + ", " + t.getFullYear();
      return e ? l : l + " - " + r
    }, t.fn[s] = function (e) {
      return this.each(function () {
        t.data(this, "plugin_" + s) || t.data(this, "plugin_" + s, new a(this, e))
      })
    }
  }(jQuery, window, document);
